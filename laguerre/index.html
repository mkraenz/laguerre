<!DOCTYPE html>
<html>
<body>

<p>Click "Try it" to display the first array element, after a string split.</p>

<button onclick="myFunction()">Try it</button>

<p id="demo"></p>

<script>
/**
 * function definitions
 */

function getRadiiAndSphere(index, zCoordOfTangentplane) {
	// calc radii
	ggbApplet.evalCommand("r_{" + index + "} = Distance[M_{" + index
			+ "}, tp_{0,0," + zCoordOfTangentplane + "}]");

	// build spheres
	ggbApplet.evalCommand("s_{" + index + "} = Sphere[M_{" + index + "}, r_{"
			+ index + "}]");
}

function getTangentPlaneToThreeSpheres(index1, index2, index3) {
	var tpIndex = getTangentplaneIndex(index1, index2, index3);
	ggbApplet.evalCommand("tp_{" + tpIndex
			+ "} = TangentPlaneToThreeSpheresAwayFromOrigin[O, s_{" + index1
			+ "}, s_{" + index2 + "}, s_{" + index3 + "}]");
}

/**
 * Supposing that the indexes are of the form like "1,152,3"
 * 
 * @param index1
 * @param index2
 * @param index3
 */
function getTangentplaneIndex(index1, index2, index3) {
	var indexArray1 = index1.split(",");
	var indexArray2 = index2.split(",");
	var indexArray3 = index3.split(",");
	var commonIndex = null;
	for (var i = 0; i < indexArray1.length; i++) {
		// here one might have to use parseInt(indexArray[i]
		if (indexArray1[i] === indexArray2[i]
				&& indexArray1[i] === indexArray3[i]) {
			commonIndex = i;
			break;
		}
	}
	indexStr = "";
	for( var i = 0; i < indexArray1.length; i++){
		if( i == commonIndex){
			indexStr += 1 + parseInt(indexArray1[i]);
		}
		else{
			indexStr += "0";
		}
		if(i != indexArray1.length){
			indexStr += ",";
		}
	}
	return indexStr;
}

function myFunction() {

var paramSpheresTop = [ "1,1,1", "-1,1,1", "1,-1,1" ];
    var str = "a,b,c,d,e,f";
    var arr = str.split(",");
    document.getElementById("demo").innerHTML = getTangentplaneIndex(paramSpheresTop[0], paramSpheresTop[1], paramSpheresTop[2]);;
}
</script>

</body>
</html>


